<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Dargel and Thomas-Agnan (2023) show to compute variances and confidence
intervals for parameters of CoDa models in log-ratio spaces.
Of particular interest are the clr parameters since they can be directly
interpreted as differences from an average elasticity.
Another option is interpret the difference in clr parameters as these
coincide with the difference in elasticities."><title>Confidence Intervals for CoDa Models — confint.lmCoDa • CoDaImpact</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Confidence Intervals for CoDa Models — confint.lmCoDa"><meta property="og:description" content="Dargel and Thomas-Agnan (2023) show to compute variances and confidence
intervals for parameters of CoDa models in log-ratio spaces.
Of particular interest are the clr parameters since they can be directly
interpreted as differences from an average elasticity.
Another option is interpret the difference in clr parameters as these
coincide with the difference in elasticities."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">CoDaImpact</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Vignette.html">Getting started with CoDaImpact</a>
    <a class="dropdown-item" href="../articles/paper_Share_Ratio.html">“Pairwise share-ratio interpretations of compositional regression models”</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/LukeCe/CoDaImpact/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Confidence Intervals for CoDa Models</h1>
      <small class="dont-index">Source: <a href="https://github.com/LukeCe/CoDaImpact/blob/HEAD/R/confint.R" class="external-link"><code>R/confint.R</code></a></small>
      <div class="d-none name"><code>confint.lmCoDa.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Dargel and Thomas-Agnan (2023) show to compute variances and confidence
intervals for parameters of CoDa models in log-ratio spaces.</p>
<p>Of particular interest are the clr parameters since they can be directly
interpreted as differences from an average elasticity.</p>
<p>Another option is interpret the difference in clr parameters as these
coincide with the difference in elasticities.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for lmCoDa</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">parm</span>, level <span class="op">=</span> <span class="fl">0.95</span>, y_ref <span class="op">=</span> <span class="cn">NULL</span>, obs <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>class "lmCoDa"</p></dd>


<dt>parm</dt>
<dd><p>a character, indicating the name of one explanatory variable</p></dd>


<dt>level</dt>
<dd><p>a numeric, indicating the confidence level required</p></dd>


<dt>y_ref</dt>
<dd><p>an optional argument that indicates the reference component of
the response variable using its name or its position. <br>
This argument is only used in the Y-compositional model.
If it is supplied confidence intervals of difference are used instead of
the direct intervals of the parameters.</p></dd>


<dt>obs</dt>
<dd><p>an optional integer that indicates one observation
when this argument is supplied the function return the observation
dependent elasticity</p></dd>


<dt>...</dt>
<dd><p>passed on to confit()</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>data.frame</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Since CoDa models are often multivariate this function only allows to
specify one explanatory variable at a time.
The output is also more complex than the usual one for "lm" classes, because
we have to indicate the component of Y and X.
With <code><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint.lm()</a></code> it is still possible to compute the usual the confidence
intervals.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    
<ul><li><p>Dargel, Lukas and Christine Thomas-Agnan, “Share-ratio interpretations of compositional regression models”, TSE Working Paper, n. 23-1456, July 2023.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Lukas Dargel</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ==== Y-compositional model ====</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="lmCoDa.html">lmCoDa</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/compositions/man/ilr.html" class="external-link">ilr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">left</span>, <span class="va">right</span>, <span class="va">extreme_right</span><span class="op">)</span><span class="op">)</span> <span class="op">~</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/compositions/man/ilr.html" class="external-link">ilr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">Age_1839</span>, <span class="va">Age_4064</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/compositions/man/ilr.html" class="external-link">ilr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">Educ_BeforeHighschool</span>, <span class="va">Educ_Highschool</span>, <span class="va">Educ_Higher</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="va">unemp_rate</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">election</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ---- CI for scalar X</span></span></span>
<span class="r-in"><span><span class="co"># CI for clr parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"unemp_rate"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Y          X        EST       SD       2.5 %    97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          left unemp_rate   1.903993 5.473901  -9.7633504 13.571336</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         right unemp_rate -12.240237 5.000438 -22.8984177 -1.582056</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 extreme_right unemp_rate  10.336244 4.634737   0.4575352 20.214953</span>
<span class="r-in"><span><span class="co"># CI for difference in clr parameters (coincides with difference in the semi elasticity)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"unemp_rate"</span>, y_ref <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Y_ref             Y          X       DIFF       SD     2.5 %   97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  left          left unemp_rate   0.000000 0.000000   0.00000  0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  left         right unemp_rate -14.144230 9.405060 -34.19064  5.90218</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  left extreme_right unemp_rate   8.432251 8.825213 -10.37824 27.24275</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ---- CI for compositional X</span></span></span>
<span class="r-in"><span><span class="co"># CI for clr parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"cbind(Age_1839, Age_4064)"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               Y        X        EST        SD     2.5 %   97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          left Age_1839  0.4116622 0.9179218 -1.544842 2.368166</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         right Age_1839  0.1906355 0.8385265 -1.596641 1.977912</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 extreme_right Age_1839 -0.6022978 0.7772020 -2.258865 1.054269</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          left Age_4064 -0.4116622 0.9179218 -2.368166 1.544842</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         right Age_4064 -0.1906355 0.8385265 -1.977912 1.596641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 extreme_right Age_4064  0.6022978 0.7772020 -1.054269 2.258865</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># CI for difference in clr parameters (coincides with difference in the elasticity)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">res</span>, <span class="st">"cbind(Age_1839, Age_4064)"</span>, y_ref <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Y_ref             Y        X       DIFF       SD     2.5 %   97.5 %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  left          left Age_1839  0.0000000 0.000000  0.000000 0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  left         right Age_1839 -0.2210267 1.577140 -3.582621 3.140568</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  left extreme_right Age_1839 -1.0139600 1.479905 -4.168304 2.140384</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  left          left Age_4064  0.0000000 0.000000  0.000000 0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  left         right Age_4064  0.2210267 1.577140 -3.140568 3.582621</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  left extreme_right Age_4064  1.0139600 1.479905 -2.140384 4.168304</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Lukas Dargel, Christine Thomas.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

